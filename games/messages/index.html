<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Service Worker Notification on Demand</title>
</head>
<body>
    <h2>Notification on Demand via Service Worker</h2>
    <button id="showNotification">Show Notification</button>

    <script>
        // Check for service worker support
        if ('serviceWorker' in navigator) {
            navigator.serviceWorker.register('service-worker.js')
            .then(function(registration) {
                console.log('Service Worker registered with scope:', registration.scope);

                // Request notification permission
                Notification.requestPermission();

                // Send message to service worker to show a notification
                document.getElementById('showNotification').addEventListener('click', () => {
                    if (navigator.serviceWorker.controller) {
                        navigator.serviceWorker.controller.postMessage({
                            action: 'showNotification',
                            title: 'Hello!',
                            body: 'This notification was triggered from the main script.',
                            icon: '/path/to/icon.png' // Optional: Specify an icon path
                        });
                    }
                });
            })
            .catch(function(error) {
                console.error('Service Worker registration failed:', error);
            });
        }
    </script>
</body>
</html>
